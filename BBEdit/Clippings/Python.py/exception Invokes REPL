import sys
import os
import pdb


def debug_exception_hook(exc_type, exc_value, tb):
   if issubclass(exc_type, KeyboardInterrupt):
       # Call the default excepthook for KeyboardInterrupt to allow clean exit
       sys.__excepthook__(exc_type, exc_value, tb)
       return
   print(f"Uncaught exception: {exc_type.__name__}: {exc_value}")
   pdb.post_mortem(tb)

 sys.excepthook = debug_exception_hook