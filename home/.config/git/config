[user]
	name       = Gary Ash
	signingkey = ~/.ssh/id_ed25519.pub
	email      = gary.ash@icloud.com

[github]
	user            = Gary-Ash

[gpg "ssh"]
	allowedSignersFile = ~/.config/git/allowed_signers

[core]
	autocrlf          = input
	compression       = 9
	filemode          = false
	precomposeUnicode = false
	editor 			  = bbedit --wait --resume
	pager 			  = delta
	excludesfile 	  = ~/.config/git/gitignore
	attributesFile    = ~/.config/git/gitattributes

[delta]
	max-line-length = 0
	true-color      = always
	line-numbers    = true
	tabs            = 4
	syntax-theme    = Solarized (dark)
	side-by-side    = true
    features     	= navigate hyperlinks line-numbers decorations

[pager]
	blame  = delta
	diff   = delta
	show   = delta
	log    = delta
	reflog = delta

[protocol]
	version = 2

[color]
    ui = auto
    pager = true

[color "log"]
    # Graph line color palette for ancestry columns.
    # These will cycle for deeper history depths.
    graphColors = "#268bd2,#859900,#b58900,#d33682,#2aa198,#dc322f,#6c71c4,#93a1a1"

[color "decorate"]
    branch       = "#859900 bold"
    remoteBranch = "#cb4b16 bold"
    tag          = "#268bd2 bold"
    HEAD         = "#2aa198 bold"
    stash        = "#d33682 bold"
    grafted      = "#6c71c4 bold"

[color "diff"]
    meta      = "#268bd2 bold"
    frag      = "#d33682 bold"
    old       = "#dc322f"
    new       = "#859900"
    commit    = "#b58900 bold"
    whitespace= "#657b83"

[color "status"]
    added     = "#859900"
    changed   = "#b58900"
    untracked = "#dc322f"
    deleted   = "#dc322f"
    renamed   = "#268bd2"
    copied    = "#268bd2"
    updated   = "#2aa198"

[color "interactive"]
  error        = red bold
  header       = cyan
  help         = yellow bold
  prompt       = magenta bold

[column]
	ui = auto

[alias]
	tags            = "tag -l"
	branches        = "branch -a"
	remotes         = "remote -v"
	init-not-mine	= "!git init --no-template"		 			# initialize a repository without my template of hooks
	logg            = "log --pretty=fuller --decorate --graph --all --show-signature"
	difft           = "difftool -y"    		                 	# use the my external diff tool w/o prompting
	unstage         = "restore --staged ."                   	# unstage the named file(s)
	discard         = "checkout --"                          	# undo last commit
	cloner          = "clone --recursive "                   	# clone submodules too
	pushf           = "push --force "
	edit-comment    = "commit --amend"							# amend everything. Mostly used for comments
	amend           = "commit --amend --reuse-message=HEAD"		# amend commit content
	delete-merged   = "git branch --merged | grep -i -v -E \"master|main|develop|dev\"| xargs git branch -d"
	trim            = "!f() { git branch | grep -v \"main\" | grep -v \"master\" | grep -v \"^*\" | xargs git branch -D; git remote prune rigin; }; f"
	fuckit          = "!git clean -df  && git reset --hard"
	pruner          = "!git prune --expire=now && git reflog expire --expire-unreachable=now --rewrite --all"
	oops			= "!git  add -A  && git commit --amend --reuse-message=HEAD && git push --force"
	oops-tracked	= "!git  add -u  && git commit --amend --reuse-message=HEAD && git push --force"

    co-author 		= "!f() { \
        if [ -n \"$1\" ] && [ -n \"$2\" ]; then \
            GIT_EDITOR=\"git interpret-trailers --in-place --trailer='Co-authored-by: $1 <$2>'\" git commit --amend; \
        fi \
    }; f"


[url "https://github.com/"]
	insteadOf       = gh:

[url "https://gist.github.com/"]
	insteadOf       = gist:

[filter "hawser"]
	clean           = git hawser clean %f
	smudge          = git hawser smudge %f
	required        = true

[filter "lfs"]
	clean           = git-lfs clean -- %f
	smudge          = git-lfs smudge -- %f
	process         = git-lfs filter-process
	required        = true

[gpg]
	format = ssh

[commit]
	template = ~/.config/git/gitmessage

[init]
	defaultBranch = main
	templateDir   = ~/.config/git/template

[help]
	autocorrect     = 1

[rerere]
	enabled = true
	autoupdate = true

[submodule]
	fetchJobs = 0
	recurse   = true

[status]
	showStash        = true
	submodule        = 1
	submoduleSummary = true
	showuntrackedfiles = all

[log]
	date = human
	decorate = fuller

[push]
	default         = simple
	autoSetupRemote = true
	followTags      = true

[commit]
	verbose  = true
	gpgsign = true
	verbose  = true

[tag]
	gpgsign = true
	sort    = -v:refname

[fetch]
    all = true
	prune = true
    pruneTags = true
	writeCommitGraph = true

[gc]
	writeCommitGraph = true

[rebase]
	autosquash = true

[pull]
	ff = only

[diff "utf16"]
	textconv = "iconv -f utf-16 -t utf-8"

[diff "plist"]
	textconv = "plutil -convert xml1 -o -"

[diff "bin"]
    textconv = hexdump -v -C
    binary   = true

[diff]
	tool = Kaleidoscope
    guitool   = Kaleidoscope
    submodule = log

[difftool "Kaleidoscope"]
	cmd = ksdiff --partial-changeset --relative-path \"$MERGED\" -- \"$LOCAL\" \"$REMOTE\"
	prompt        = false
	trustExitCode = true

[merge]
	tool = Kaleidoscope

[mergetool "Kaleidoscope"]
	cmd = ksdiff --merge --output \"$MERGED\" --base \"$BASE\" -- \"$LOCAL\" --snapshot \"$REMOTE\" --snapshot
	trustExitCode = true
	prompt        = false

[difftool]
	prompt = false
	trustExitCode = true

[mergetool]
	prompt = false
